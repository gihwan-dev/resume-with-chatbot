---
title: "차세대 데이터베이스 성능 모니터링 제품 개발"
company: "Exem"
description: "이기종 DB 수백개의 실시간 지표를 시각화하는 고성능 모니터링 시스템의 프론트엔드 아키텍처를 구축. 데이터 그리드 최적화, 상태 관리 표준화까지 전 과정에 주도적으로 참여하며 제품 안정성과 개발 생산성을 극대."
dateStart: 2025-01-01
techStack: ["React", "TypeScript", "Zustand", "Vite", "Tanstack Query"]
priority: 3
---

#### API 레이어 아키텍처 재설계 및 타입 안정성 강화

**[API 어댑터 레이어의 실용적 추상화](https://publish.obsidian.md/gihwan-dev/Exem/%ED%98%84+API+%EB%AC%B8%EC%A0%9C%EC%A0%90)**

**Problem**

* API 호출 함수가 각 페이지에 산재되어 엔드포인트 변경 시 전체 프로젝트를 탐색해야 하는 **구조적 결함** 존재.
* API 응답 값의 래퍼 처리와 데이터 정제 로직이 컴포넌트 내부에 혼재되어 **비즈니스 로직의 응집도 저하**.
* 불필요한 1:1 매핑 어댑터 도입으로 인해 단순 API 변경 시에도 수정 포인트가 배로 증가하는 **오버엔지니어링** 발생.

**Action**

* **중앙 집중식 API 레이어 설계:** Swagger 컨트롤러 구조에 대응하는 `shared/api` 레이어를 설계하고 `.schema`(타입), `.api`(호출), `.factory`(Query Key)의 3-파일 컨벤션 수립.
* **실용적 데이터 정제:** 불필요한 어댑터를 제거하고 API 레이어에서 `response.data.data` 등 공통 래퍼를 미리 제거하여 반환함으로써 컴포넌트의 의존성 단순화.
* **Query Key Factory 도입:** `@lukemorales/query-key-factory`를 활용하여 선언적인 캐시 관리 체계를 구축하고 중복 키로 인한 데이터 캐싱 오류 방지.

**Result**

* API 명세 변경 시 수정 범위를 단일 폴더로 격리하여 **사이드 이펙트 최소화** 및 타입 안정성 확보.
* 불필요한 추상화 레이어 제거를 통해 코드 탐색 경로 단축 및 신규 API 온보딩 시간 단축.

---

#### 확장 가능한 시각화 시스템을 위한 도메인 기반 폼 아키텍처 전환

**Problem**

* 위젯 빌더(대시보드 위젯 생성 폼)가 '기능 단위'로 설계되어, 새로운 차트 타입 추가 시 기존 공통 스키마에 선택적 필드를 강제로 추가해야 하는 구조적 한계 발생.
* 단일 폼 내에서 수많은 **조건부 렌더링**이 발생하여 **로직 복잡도가 지수적으로 상승**.

**Action**

* **도메인 격리 구조:** '기능' 중심에서 '시각화 도메인' 중심으로 구조를 개편. 각 차트별 독립 폴더(`visualization/line`, `visualization/bar` 등)에 전용 스키마와 폼 컴포넌트를 캡슐화.
* **타입 안전한 스키마 조합:** **Zod의 Discriminated Union**을 활용하여 차트 타입별로 유효한 데이터 구조를 컴파일 타임에 보장하도록 설계.
* **비즈니스 로직 모듈화:** 공통 빌딩 블록(`Metric`, `Formula` 등)은 전역 모델로 추출하여 재사용성을 높이고, 각 시각화 도메인에서는 필요한 블록만 조합하여 사용.

**Result**

* 신규 시각화 추가 시 기존 코드 수정 없이 폴더 추가만으로 구현 가능.
* 폼 스키마와 UI의 응집도 강화로 **조건부 렌더링 버그 원천 차단** 및 가독성 향상.

---

#### Zustand 스토어 지역화 및 상태 생명주기 최적화

**[기술 블로그: Zustand 스토어를 지역화하기](https://velog.io/@koreanthuglife/Zustand-%EC%8A%A4%ED%86%A0%EC%96%B4%EB%A5%BC-%EC%A7%80%EC%97%AD%ED%99%94%ED%95%98%EA%B8%B0)**

**Problem**

* 전역 Zustand 스토어가 컴포넌트 생명주기와 무관하게 유지되어, 페이지 전환 시 이전 데이터가 잔존하는 **상태 누수 버그** 빈번.
* 이를 해결하기 위해 `useEffect`에서 수동으로 초기화 로직을 수행하며 불필요한 리렌더링과 코드 복잡도 유발.

**Action**

* **스토어 지역화:** Context API와 Zustand를 결합하여 Provider 마운트 시점에 스토어를 생성하고 언마운트 시 자동 정리되도록 설계하여 상태 생명주기를 컴포넌트와 동기화.
* **초기값 주입 구조 개선:** Props를 통해 스토어 생성 시점에 동적으로 초기값을 주입하여 더미 데이터로 인한 초기 렌더링 문제 해결.
* **Store Factory 구현:** 반복되는 Context 생성 및 Custom Hook 추출 과정을 자동화하는 `createSimpleStore` 팩토리 함수를 구축하여 개발 경험(DX) 개선.

**Result**

* **코드 효율성:** 팩토리 함수 도입으로 스토어 설정 관련 **보일러플레이트 코드 약 70% 감소**.
* **안정성:** 수동 초기화 누락으로 인한 **상태 누수 버그 0건 달성** 및 불필요한 리렌더링 최적화.

---

#### 다국어(i18n) 시스템 안정성 및 검증 자동화

**Problem**

* **다국어 키 누락**이 런타임에서 발견되어 사용자에게 원문 키가 노출되는 UI 장애가 지속적으로 발생.
* 개발자의 수동 확인에 의존하는 검증 구조로 인해 **휴먼 에러** 발생 가능성 상존.

**Action**

* **컴파일 타임 검증:** TypeScript 타입 시스템을 활용하여 다국어 키에 대한 자동완성 및 유효성 검증 도입.
* **정적 분석 도입:** ESLint 커스텀 룰을 적용하여 정의되지 않은 다국어 키 사용 시 빌드 단계에서 차단되도록 강제성 부여.
* **자동화된 파이프라인:** CI/CD 단계에서 미등록 키 존재 여부를 스캔하는 검증 단계를 추가하여 배포 안정성 확보.

**Result**
* 다국어 누락으로 인한 런타임 장애 원천 차단 및 개발 중 즉각적인 피드백 루프 형성.
* 시스템 레벨의 강제성을 통해 코드 리뷰 단계에서의 단순 오탈자 확인 리소스 제거.