---
title: "데이터 그리드 개발"
company: "Exem"
description: "차세대 대시보드의 공용 데이터 그리드 아키텍처를 재설계해 렌더링 성능과 확장성을 동시에 개선"
dateStart: 2025-07-01
updatedAt: 2026-02-15
techStack: ["React", "TanStack Table", "TanStack Virtual", "Vitest"]
priority: 2
---

#### 고성능 데이터 그리드 라이브러리 아키텍처 개선

**[TanStack Table 기반 데이터 그리드 개선기](https://velog.io/@koreanthuglife/Tanstack-Table-%EA%B8%B0%EB%B0%98-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EA%B7%B8%EB%A6%AC%EB%93%9C-%EA%B0%9C%EC%84%A0%ED%95%98%EA%B8%B0)**

**Problem**

* `<table>` 기반 구조에서는 네이티브 레이아웃 방식을 우회하지 않으면 행 가상화를 적용하기 어려워, 모든 행을 DOM에 렌더링해야 했고 노드가 **23,000+**까지 증가해 리플로우 비용이 급격히 커졌습니다.
* `tr`/`th` 같은 경직된 요소 계층 구조로 인해 리사이즈 핸들러를 헤더와 동일 계층에 배치하는 것과 같은 유연한 레이아웃 구조를 설계하는게 어려웠습니다.
* 셀 위치 계산이 `column.getStart()` 누적 합산에 의존해 열 수에 비례한 `O(n)` 비용이 발생했습니다.
* 컨테이너 리사이즈, 스크롤 등의 처리에서 모든 셀이 리렌더링되는 오버헤드가 존재했습니다.
* 셀·행마다 클릭·키보드 이벤트 핸들러가 개별 등록되어, 리렌더링마다 수백 개의 클로저가 재생성·폐기되면서 GC 부담이 증가했습니다.
* 스크롤·정렬 등 상호작용 시 변경이 없는 행까지 전체 셀이 리렌더링되어 불필요한 연산이 반복됐습니다.

**Action**

* `<table>` 유지(Sticky 고정·동기화 보정) vs `div` 기반(가상화 친화적 렌더 경계) 트레이드오프를 비교한 뒤, 공용 그리드 확장성을 위해 `div` 기반 레이아웃으로 전환했습니다.
* `div` 전환 후에도 `role`/ARIA 속성으로 접근성(선택·정렬 상태 포함)을 유지했습니다.
* 고정 행/열을 3×3 패널로 분리하는 구조를 설계하고, `TanStack Virtual`로 행 가상화를 적용해 Row `position: absolute` / Cell `display: flex` 구조로 렌더링 경계를 재구성했습니다.
* 셀 배치에서 `left`·`width` 직접 계산과 `column.getStart()` 누적 합산을 제거하고, `flex` 기반 폭 정책(고정폭/자동폭)으로 전환해 레이아웃 계산을 브라우저 엔진에 위임했습니다.
* `React.memo`에 커스텀 비교 함수를 적용해 행 단위로 props 변경을 판별하고, 변경된 행만 리렌더링되도록 최적화했습니다.
* 셀·행 단위로 등록되던 클릭·키보드 이벤트 핸들러를 컨테이너 레벨 이벤트 위임으로 전환해 핸들러 바인딩을 단일 지점으로 집약했습니다.

**Result**

* 동시 렌더링 DOM 노드를 약 **90%** 감소시키고, 인터랙션 지연을 **110ms**에서 **20~30ms**로 단축해 고밀도 모니터링 화면의 체감 반응성을 개선했습니다.
* 컨테이너 리사이즈 처리 시간을 **22ms**에서 **0.5ms**(약 **44배**)로 단축했습니다.
* 스크롤 시 전체 셀 리렌더링을 변경된 행만 리렌더링으로 축소해 CPU 최대 사용률을 약 **50%** 감소시켰습니다.
* 이벤트 리스너를 약 **50%** 감소시켜(Chrome DevTools 기준) 리렌더링 시 클로저 생성·폐기에 따른 GC 부담을 절감했습니다.
* 고정 영역 × 가상 스크롤 × 리사이즈 × 컬럼 폭 등등 다양한 기능 조합을 **600개 이상** 통합 테스트로 회귀를 조기에 차단했습니다.
