---
interface ProfileLink {
  network: string
  username: string
  url: string
}

interface ProfileData {
  name?: string
  label?: string
  email?: string
  url?: string
  summary?: string
  profiles?: ProfileLink[]
}

const { profile } = Astro.props as { profile?: ProfileData }
---

<header
  id="profile"
  class="mb-12 space-y-6"
>
  <div class="space-y-2">
    <h1
      class="text-5xl font-heading font-bold tracking-tight text-resume-text-heading sm:text-6xl"
    >
      {profile?.name}
    </h1>
    <p class="text-xl text-resume-text-muted font-medium font-heading">
      {profile?.label}
    </p>
  </div>

  <div class="flex flex-col gap-2 text-sm text-resume-text-muted">
    {
      profile?.email && (
        <a
          href={`mailto:${profile.email}`}
          class="hover:text-resume-primary focus-visible:text-resume-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-resume-bg rounded-sm transition-colors w-fit"
          data-ga-event="contact_click"
          data-ga-method="email"
        >
          {profile.email}
        </a>
      )
    }
    <div class="flex flex-wrap gap-4">
      {
        profile?.url && (
          <a
            href={profile.url}
            target="_blank"
            rel="noopener noreferrer"
            class="hover:text-resume-primary focus-visible:text-resume-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-resume-bg rounded-sm transition-colors"
            data-ga-event="contact_click"
            data-ga-method="website"
          >
            Website
          </a>
        )
      }
      {profile?.profiles?.map((p, index) => (
        <>
          {(profile?.url || index > 0) && <span>â€¢</span>}
          <a
            href={p.url}
            target="_blank"
            rel="noopener noreferrer"
            class="hover:text-resume-primary focus-visible:text-resume-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-resume-bg rounded-sm transition-colors"
            data-ga-event="contact_click"
            data-ga-method={p.network.toLowerCase()}
          >
            {p.network}
          </a>
        </>
      ))}
    </div>
  </div>

  <p class="text-resume-text-main leading-relaxed w-full">
    {profile?.summary}
  </p>
</header>
